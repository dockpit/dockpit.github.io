{% extends 'responsive.html' %}

{% block title %}Home{% endblock %}

{% block content %}
	
	<section id="home">
		<div id="callout"> <!-- jumbotron -->

			<div> <!-- column -->
				<img src="out/img/logo.png">	
				<h1>{{ callout }}</h1>
				<p>{{ tagline }}</p>
  				<p>
  					<a 
  						id="btn-twitter" 
  						role="button" 
  						href="https://twitter.com/dockpit">
  							twitter <i class="fa fa-twitter"></i>
  					</a>
  					
  					<a 
  						id="btn-github" 
  						role="button" 
  						href="https://github.com/dockpit/pit">
  							github <i class="fa fa-github"></i>
  					</a>
  				</p>
			</div>

		</div>

		<h2 class="hr"><span>Features</span></h2>


		<!-- list each feature -->
		{% for f in collections.features %}
			<section class="feature" id="{{f.slug}}">
				<div>

					<article class="feature-text">
						<h3>{{ f.contents|safe }}</h3>
					</article>

				<article class="feature-example">
<pre>$> <b>{{f.command}}</b>{% for o in f.output|split %}
{{o}}{% endfor %}</pre>
				</article>

				</div>
			</section>
		{% endfor %}

		<h2 class="hr"><span>Usage</span></h2>

		<div id="example-container" example-viewer> <!-- jumbotron -->
			<div class="window">

			  <script>
			  	window.explanations = {
			  	{% for expl in collections.explanations %}
			  		"{{ expl.file }}": {{ JSON.stringify(expl) }},
			  	{% endfor %}
			  	};

			  	console.log(window.explanations)
			  </script>

			  <div class="top">
			    <div class="panel">
			      <span class="first"></span>
			      <span class="second"></span>
			      <span class="third"></span>
			    </div>
			  </div>
			  
			  <div class="inside">
					<ol class="file-tree">


						<li>
							<label for="b">.manifest</label><input type="checkbox" id="b"> 
							<ol>
								<li>
									<label for="be">examples</label><input type="checkbox" id="be"> 
									<ol>
										<li>
											<label for="beusers">- users</label><input type="checkbox" id="beusers"> 
											<ol>
												<li>
													<label for="beusersl">'list 2 users'</label> <input type="checkbox" id="beusersl"> 
													<ol>
														<li data-gist="ae223ac90d95820d11a6" class="file"><a>given</a></li>
														<li data-gist="7abc647e53d0c72f9809" class="file"><a>when</a></li>
														<li data-gist="d1ed565d5b42cf0c71d0" class="file"><a>then</a></li>
														<li data-gist="0dbaa3510f85e02bdbed" class="file"><a>while</a></li>
													</ol>
												</li>
		
												<li>
													<label for="beusersp">- projects</label><input type="checkbox" id="beusersp"> 
													<ol>
														<li>
															<label for="beuserspl">'list all users projects'</label> <input type="checkbox" id="beuserspl"> 
															<ol>
																<li data-gist="3fc42fb03be284abaac3" class="file"><a>given</a></li>
																<li data-gist="5e328d733f3975327905" class="file"><a>when</a></li>
																<li data-gist="38085082f1f40b5e1fa6" class="file"><a>then</a></li>
																<li data-gist="ef9fdd172c9ed2433bc6" class="file"><a>while</a></li>
															</ol>
														</li>
													</ol>
												</li>
											</ol>
										</li>
									</ol>
								</li>
								<li>
									<label for="bs">states</label><input type="checkbox" id="bs"> 
									<ol>
										<li>
											<label for="bsmysql">mysql</label><input type="checkbox" id="bsmysql"> 
											<ol>
												<li>
													<label for="bsmysqlsu">'a single user'</label> <input type="checkbox" id="bsmysqlsu"> 
													<ol>
														<li data-gist="cdb5df67028efa281d6f" class="file"><a>Dockerfile</a></li>
													</ol>
												</li>
												<li>
													<label for="bsmysqldu">'two users one project'</label> <input type="checkbox" id="bsmysqldu"> 
													<ol>
														<li data-gist="f4191302dee4ead7c782" class="file"><a>Dockerfile</a></li>
													</ol>
												</li>
											</ol>
										</li>
									</ol>
								</li>
							</ol>
						</li>
						<li data-gist="4822cbc81ef5871cbd05" class="file"><a>dockpit.json</a></li>

					</ol>
			  		<div id="ex-file-view" class="file-contents">
						<script src="https://gist.github.com/advanderveer/440aa885fe3a57d4303c.js"></script>
			  		</div>

					<div ng-if="explanation.show" id="ex-explanation-panel" ng-cloak>
						<div class="expl-panel-content" ng-bind-html="explanation.text">						
					</div>
			  </div>

			</div>  
		</div>



		<h2 class="hr"><span>Getting Started</span></h2>

		<div id="callout"> <!-- jumbotron -->

			<div> <!-- column -->
			<p>dockpit is still in early development but is already <a id="link-open-sourced" href="https://github.com/dockpit/pit">open sourced</a> under the Mozilla Public License (version 2.0).</p>

			<p>We are still looking for developers who would like to <b>test-drive</b> the early version of the software, if you're interested contact us at <a id="link-email-team" href="mailto:team@dockpit.io">team@dockpit.io</a></p>
			</div>
		</div>

		<script>
			var e = document.getElementById('link-email-team');
			var ghl = document.getElementById('link-open-sourced');
			var gh = document.getElementById('btn-github');
			var t = document.getElementById('btn-twitter');

			analytics.trackLink(e, 'Open email link', { address: 'team@dockpit.io', subject: 'test-drive early version'})
			analytics.trackLink(ghl, 'Redirected to Property', { asset: 'github'})
			analytics.trackLink(gh, 'Redirected to Property', { asset: 'github'})
			analytics.trackLink(t, 'Redirected to Property', { asset: 'twitter'})
		</script>

	</section>	
{% endblock %}
